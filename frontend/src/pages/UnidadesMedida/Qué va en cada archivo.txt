ğŸ§  QuÃ© va en cada archivo (mapa claro)
1ï¸âƒ£ UnidadesMedidaPage.jsx (contenedor)

ğŸ‘‰ Muy pequeÃ±o

Llama al hook useUnidadesMedida

Renderiza:

Header

Filtro

Tabla

Modales

Maneja solo el layout general

ğŸ“Œ AquÃ­ NO debe haber lÃ³gica pesada.

2ï¸âƒ£ hooks/useUnidadesMedida.js (toda la lÃ³gica)

ğŸ‘‰ AquÃ­ vive el corazÃ³n del mÃ³dulo

Incluye:

Estados:

unidades, loading, guardando, error

filtro

modalForm

modalDelete

Efectos:

cargar() en useEffect

LÃ³gica:

crear / editar / eliminar

toggle activo

validaciones

prevenciÃ³n de duplicados

useMemo:

unidadesFiltradas

ğŸ“Œ Regla: si usa API o setState â†’ va aquÃ­

3ï¸âƒ£ components/UnidadesHeader.jsx

ğŸ‘‰ Solo UI

Contiene:

TÃ­tulo â€œUnidades de Medidaâ€

Texto descriptivo

BotÃ³n â€œ+ Nueva unidadâ€

Props tÃ­picas:

abrirCrear

guardando

4ï¸âƒ£ components/UnidadesFiltro.jsx

ğŸ‘‰ Bloque del buscador

Incluye:

Input buscar

BotÃ³n limpiar

Props:

filtro

setFiltro

guardando

5ï¸âƒ£ components/UnidadesTabla.jsx

ğŸ‘‰ Toda la tabla

Incluye:

Tabla completa

Switch activo

Botones Editar / Eliminar

Loader y estado vacÃ­o

Props:

loading

unidadesFiltradas

guardando

toggleActivo

abrirEditar

pedirEliminar

badgeTipo (desde utils)

6ï¸âƒ£ components/ModalUnidadForm.jsx

ğŸ‘‰ Modal Crear / Editar

Incluye:

Inputs nombre / abreviatura / tipo / activo

Botones Guardar / Cancelar

Props:

modalForm

cerrarModalForm

onChangeForm

guardarUnidad

guardando

TIPOS

7ï¸âƒ£ components/ModalEliminarUnidad.jsx

ğŸ‘‰ Modal confirmaciÃ³n

Incluye:

Mensaje de confirmaciÃ³n

BotÃ³n eliminar

Props:

modalDelete

cancelarEliminar

confirmarEliminar

guardando

8ï¸âƒ£ utils/unidadesUtils.js

ğŸ‘‰ Helpers puros (sin React)

AquÃ­ mueves:

TIPOS

badgeTipo(tipo)

normalizar(texto)

existeDuplicado(unidades, payload, mode)

ğŸ“Œ Todo lo que no necesita estado va aquÃ­.

ğŸ”¥ Beneficios reales de esta estructura

âœ” Archivo principal baja de 400+ lÃ­neas a ~80
âœ” LÃ³gica separada y reutilizable
âœ” Modales independientes (mÃ¡s fÃ¡ciles de mantener)
âœ” Misma arquitectura que RegistrarVenta
âœ” Cuando algo falla, sabes exactamente dÃ³nde buscar

ğŸ‘‰ Siguiente paso (si tÃº quieres)

En el prÃ³ximo mensaje puedo:

ğŸ”¹ darte solo el hook useUnidadesMedida.js

ğŸ”¹ o empezar por los componentes UI

ğŸ”¹ o ayudarte a migrarlo paso a paso sin romper nada